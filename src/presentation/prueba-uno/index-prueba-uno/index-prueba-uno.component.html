<!--
* Vista index-prueba-uno.component.html
*
* @author  Carlos Anchundia
* @date    08-05-2024
* @name    index-prueba-uno.component.html
* @package presentation
* @subpackage prueba-uno
-->

<div class="p-3 surface-100">
	<p-toolbar styleClass="mb-4 gap-2">
		<ng-template pTemplate="left">
			<p-button severity="primary" label="Nuevo" icon="pi pi-plus" class="mr-2"
			[routerLink]="['/create-prueba-uno']" />
		</ng-template>
	</p-toolbar>

	<p-table #dt [value]="pruebaUnoRecords" dataKey="id" [rowHover]="true" [rows]="size" [totalRecords]="totalElements"
		[showCurrentPageReport]="true" [rowsPerPageOptions]="pageSizeOptions" [loading]="loading" [paginator]="true"
		currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} registros"
		(onPage)="changePage($event)" [filterDelay]="0" [lazy]="true" [globalFilterFields]="['id_uno','nombre_uno','fecha_uno','estado_uno','entero_uno','decimal_uno','item_uno','nombre_largo_uno',]">

		<ng-template pTemplate="caption">
			<div class="flex">
				<div class="flex align-items-center justify-content-center" style="flex: 1;">
					<h2 class="m-0">{{title}}</h2>
				</div>
				<div class="flex align-items-center justify-content-end" style="gap: 10px;">
					<p-button [outlined]="true" icon="pi pi-filter-slash" label="Limpiar" (click)="clearSearch()" />
					<span class="p-input-icon-left">
						<i class="pi pi-search"></i>
						<input pInputText type="text" [value]="search" (input)="inputSearch($event)"
							placeholder="Buscar..." />
					</span>
				</div>
			</div>
		</ng-template>
			<ng-template pTemplate="header">
				<tr>
					<th style="width: 4rem"><p-tableHeaderCheckbox /></th>
					<th pSortableColumn="idUno" style="min-width:5rem">idUno<p-sortIcon field="idUno" /></th>
					<th pSortableColumn="nombreUno" style="min-width:10rem">nombreUno<p-sortIcon field="nombreUno" /></th>
					<th pSortableColumn="fechaUno" style="min-width:5rem">fechaUno<p-sortIcon field="fechaUno" /></th>
					<th pSortableColumn="estadoUno" style="min-width:5rem">estadoUno<p-sortIcon field="estadoUno" /></th>
					<th pSortableColumn="enteroUno" style="min-width:5rem">enteroUno<p-sortIcon field="enteroUno" /></th>
					<th pSortableColumn="decimalUno" style="min-width:5rem">decimalUno<p-sortIcon field="decimalUno" /></th>
					<th pSortableColumn="itemUno" style="min-width:5rem">itemUno<p-sortIcon field="itemUno" /></th>
					<th pSortableColumn="nombreLargoUno" style="min-width:10rem">nombreLargoUno<p-sortIcon field="nombreLargoUno" /></th>
					<th>Acciones</th>
				</tr>
			</ng-template>
			<ng-template pTemplate="body" let-item>
				<tr>
						<td><p-tableCheckbox [value]="item" /></td>
						<td>{{ item.idUno }}</td>
						<td>{{ item.nombreUno }}</td>
						<td>{{ item.fechaUno ?(item.fechaUno | date: 'yyyy-MM-dd') : '' }}</td>
						<td><p-tag [value]="item.estadoUno" [severity]="getStatus(item.estadoUno)" /></td>
						<td>{{ item.enteroUno }}</td>
						<td>{{ item.decimalUno }}</td>
						<td>{{ item.itemUno }}</td>
						<td>{{ item.nombreLargoUno }}</td>
					<td>
						<p-button icon="pi pi-plus" class="mr-2" size="small" title="AÃ±adir" severity="primary" />
						<p-button icon="pi pi-pen-to-square" class="mr-2" size="small" title="Editar" severity="success" [routerLink]="['/edit-prueba-uno',item.idUno]" />
						<p-button icon="pi pi-trash" class="mr-2" size="small" title="Eliminar" severity="danger" />
					</td>
				</tr>
			</ng-template>
			<ng-template pTemplate="summary">
				<div class="flex align-items-center justify-content-between">
					En total hay {{ pruebaUnoRecords ? pruebaUnoRecords.length : 0 }} pruebaUno.>
				</div>
			</ng-template>
	</p-table>
</div>
